"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}define(["jquery","template","cookie"],function(d,m){return new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){console.log(e),new Promise(function(e,t){d("#detail-item").load("/html/component/xitem.html",function(){e()})}).then(function(){d.ajax({url:e,type:"get",success:function(e){if(e.res_code){var t=function(){var e=d("#price").text(),t=d("#title").text(),n=u,i=d("#ml").text(),o=d("#pic").attr("src");r({ml:i,pnum:n,title:t,price:e,img:o})},r=function(e){for(var t=d.cookie("order")?JSON.parse(d.cookie("order")):[],n=!0,i=0;i<t.length;i++)t[i].id===e.id&&(t[i].pnum++,n=!1);n&&t.push(e),d.cookie("cart",JSON.stringify(t),{path:"/"})},n=e.resbody.data,i=m("detail-template",{list:n});d("#detail-item").html(i),console.log();var o=d(".wrap #addCart"),c=d("#addBtn"),a=d("#redBtn"),l=d("#num"),u=1,s=0,f=d("header #cnum");o.on("click",function(){s++,f.html(s),t()}),c.on("click",function(){u++,l.html(u),t()}),a.on("click",function(){--u<=1&&(u=1),l.html(u),t()})}}})})}}]),e}())});